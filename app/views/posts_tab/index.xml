<Alloy>
  <Collection src="posts"/>
  <Tab>
    <Window>
      <Widget id="ptr" onRelease="fetchPostsCollection" src="nl.fokkezb.pullToRefresh">
        <ListView defaultItemTemplate="postTemplate" id="list" onItemclick="onItemClick">
          <Widget id="is" onEnd="fetchMorePostsCollection" src="nl.fokkezb.infiniteScroll"/>
          <Templates>
            <ItemTemplate name="postTemplate">
              <ImageView bindId="postImage" id="postImage"/>
              <View id="v1" layout="vertical">
                <Label bindId="titleLabel" id="titleLabel"/>
                <Label bindId="excerptLabel" id="excerptLabel"/>
                <Label bindId="dateLabel" id="dateLabel"/>
              </View>
            </ItemTemplate>
          </Templates>
          <ListSection dataCollection="posts" dataTransform="postsTransfomer">
            <ListItem dateLabel:text="{prettyDate}" excerptLabel:text="{excerpt}" postImage:image="{thumbnail}" titleLabel:text="{title}"/>
          </ListSection>
        </ListView>
      </Widget>
    </Window>
  </Tab>
</Alloy>
